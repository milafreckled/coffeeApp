{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../data.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../geo-location.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/card\";\nfunction ListComponent_mat_card_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\")(1, \"mat-card-title\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-card-subtitle\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-card-actions\")(6, \"button\", 2)(7, \"mat-icon\");\n    i0.ɵɵtext(8, \"map\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"button\", 2)(10, \"mat-icon\");\n    i0.ɵɵtext(11, \"share\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ListComponent_mat_card_0_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const coffee_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.goToDetails(coffee_r1));\n    });\n    i0.ɵɵelementStart(13, \"mat-icon\");\n    i0.ɵɵtext(14, \"list\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const coffee_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(coffee_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Place: \", coffee_r1.place, \"\");\n  }\n}\nexport class ListComponent {\n  constructor(data, router, geolocation) {\n    this.data = data;\n    this.router = router;\n    this.geolocation = geolocation;\n  }\n  ngOnInit() {\n    this.data.getList(list => {\n      this.coffeeList = list;\n    });\n  }\n  goToDetails(coffee) {\n    if (coffee._id) {\n      this.data.getCoffee(coffee._id, () => this.router.navigate([\"/coffee\", coffee._id]));\n    }\n  }\n  goToMap(coffee) {\n    if (coffee.location) {\n      const mapLink = this.geolocation.getMapLink(coffee.location);\n      location.href = mapLink;\n    }\n  }\n  shareCoffee(coffee) {\n    const shareText = `I had thid ${coffee.name} at ${coffee.place} and I give it ${coffee.rating} stars`;\n    if ('share' in navigator) {\n      navigator.share({\n        title: coffee.name,\n        text: shareText,\n        url: window.location.href\n      }).then(() => console.log(\"shared\")).catch(err => console.error(err));\n    } else {\n      const shareURL = `whatsapp://send?text=${encodeURIComponent(shareText)}`;\n      location.href = shareURL;\n    }\n  }\n}\nListComponent.ɵfac = function ListComponent_Factory(t) {\n  return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.GeoLocationService));\n};\nListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListComponent,\n  selectors: [[\"app-list\"]],\n  decls: 4,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [\"id\", \"btn-create\", \"mat-fab\", \"\", \"routerLink\", \"/coffee\"], [\"mat-button\", \"\"], [\"mat-button\", \"\", 3, \"click\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ListComponent_mat_card_0_Template, 15, 2, \"mat-card\", 0);\n      i0.ɵɵelementStart(1, \"a\", 1)(2, \"mat-icon\");\n      i0.ɵɵtext(3, \"create\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngForOf\", ctx.coffeeList);\n    }\n  },\n  dependencies: [i2.RouterLink, i4.NgForOf, i5.MatButton, i5.MatFabAnchor, i6.MatIcon, i7.MatCard, i7.MatCardActions, i7.MatCardSubtitle, i7.MatCardTitle],\n  styles: [\"#btn-create[_ngcontent-%COMP%]{\\n    position: fixed;\\n    right: 20px;\\n    bottom: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbGlzdC9saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxlQUFlO0lBQ2YsV0FBVztJQUNYLFlBQVk7QUFDaEIiLCJzb3VyY2VzQ29udGVudCI6WyIjYnRuLWNyZWF0ZXtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgcmlnaHQ6IDIwcHg7XG4gICAgYm90dG9tOiAyMHB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;IAAAA,gCAA4C;IACxBA,YAAiB;IAAAA,iBAAiB;IAClDA,yCAAmB;IAAAA,YAAyB;IAAAA,iBAAoB;IAChEA,wCAAkB;IACeA,mBAAG;IAAAA,iBAAW;IAC/CA,iCAAmB;IAAUA,sBAAK;IAAAA,iBAAW;IAC7CA,kCAAiD;IAA9BA;MAAA;MAAA;MAAA;MAAA,OAASA,4CAAmB;IAAA,EAAC;IAACA,iCAAU;IAAAA,qBAAI;IAAAA,iBAAW;;;;IAL1DA,eAAiB;IAAjBA,oCAAiB;IACdA,eAAyB;IAAzBA,qDAAyB;;;ACShD,OAAM,MAAOC,aAAa;EAExBC,YAAoBC,IAAiB,EAAUC,MAAc,EAAUC,WAA+B;IAAlF,SAAI,GAAJF,IAAI;IAAuB,WAAM,GAANC,MAAM;IAAkB,gBAAW,GAAXC,WAAW;EAAuB;EAEzGC,QAAQ;IACN,IAAI,CAACH,IAAI,CAACI,OAAO,CAAEC,IAAc,IAAI;MACnC,IAAI,CAACC,UAAU,GAAGD,IAAI;IACxB,CAAC,CAAC;EACJ;EAEAE,WAAW,CAACC,MAAc;IACxB,IAAIA,MAAM,CAACC,GAAG,EAAC;MACb,IAAI,CAACT,IAAI,CAACU,SAAS,CAACF,MAAM,CAACC,GAAG,EAAE,MAAM,IAAI,CAACR,MAAM,CAACU,QAAQ,CAAC,CAAC,SAAS,EAAEH,MAAM,CAACC,GAAG,CAAC,CAAC,CAAC;;EAExF;EAEAG,OAAO,CAACJ,MAAc;IACpB,IAAIA,MAAM,CAACK,QAAQ,EAAC;MAClB,MAAMC,OAAO,GAAG,IAAI,CAACZ,WAAW,CAACa,UAAU,CAACP,MAAM,CAACK,QAAQ,CAAC;MAC5DA,QAAQ,CAACG,IAAI,GAAGF,OAAO;;EAE3B;EAEAG,WAAW,CAACT,MAAc;IACxB,MAAMU,SAAS,GAAG,cAAcV,MAAM,CAACW,IAAI,OAAOX,MAAM,CAACY,KAAK,kBAAkBZ,MAAM,CAACa,MAAM,QAAQ;IACrG,IAAI,OAAO,IAAIC,SAAS,EAAC;MACvBA,SAAS,CAACC,KAAK,CAAC;QACdC,KAAK,EAAEhB,MAAM,CAACW,IAAI;QAClBM,IAAI,EAAEP,SAAS;QACfQ,GAAG,EAAEC,MAAM,CAACd,QAAQ,CAACG;OACtB,CAAC,CAACY,IAAI,CAAC,MAAMC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACI,KAAK,CAACD,GAAG,CAAC,CAAC;KACtE,MAAI;MACH,MAAME,QAAQ,GAAG,wBAAwBC,kBAAkB,CAACjB,SAAS,CAAC,EAAE;MACxEL,QAAQ,CAACG,IAAI,GAAGkB,QAAQ;;EAE5B;;AAnCWpC,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAsC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX1B3C,yEAQW;MAEXA,4BAAgD;MAAUA,sBAAM;MAAAA,iBAAW;;;MAV9CA,wCAAa","names":["i0","ListComponent","constructor","data","router","geolocation","ngOnInit","getList","list","coffeeList","goToDetails","coffee","_id","getCoffee","navigate","goToMap","location","mapLink","getMapLink","href","shareCoffee","shareText","name","place","rating","navigator","share","title","text","url","window","then","console","log","catch","err","error","shareURL","encodeURIComponent","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/ludmilamalomuz/Desktop/Frontend projects/coffeeapp2/src/app/list/list.component.html","/Users/ludmilamalomuz/Desktop/Frontend projects/coffeeapp2/src/app/list/list.component.ts"],"sourcesContent":["<mat-card *ngFor=\"let coffee of coffeeList\">\n    <mat-card-title>{{ coffee.name }}</mat-card-title>\n    <mat-card-subtitle>Place: {{ coffee.place }}</mat-card-subtitle>\n    <mat-card-actions>\n        <button mat-button><mat-icon>map</mat-icon></button>\n    <button mat-button><mat-icon>share</mat-icon></button>\n    <button mat-button (click)=\"goToDetails(coffee)\"><mat-icon>list</mat-icon></button>\n    </mat-card-actions>  \n</mat-card>\n \n<a id=\"btn-create\" mat-fab routerLink=\"/coffee\"><mat-icon>create</mat-icon></a>\n\n","import { Component } from '@angular/core';\nimport { DataService } from '../data.service';\nimport { Coffee } from '../logic/Coffee';\nimport { Router } from '@angular/router';\nimport { GeoLocationService } from '../geo-location.service';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})\nexport class ListComponent {\n  coffeeList!: [Coffee];\n  constructor(private data: DataService, private router: Router, private geolocation: GeoLocationService){ }\n\n  ngOnInit(){\n    this.data.getList((list: [Coffee]) => {\n      this.coffeeList = list;\n    })\n  }\n\n  goToDetails(coffee: Coffee){\n    if (coffee._id){\n      this.data.getCoffee(coffee._id, () => this.router.navigate([\"/coffee\", coffee._id]))\n    }\n  }\n\n  goToMap(coffee: Coffee){\n    if (coffee.location){\n      const mapLink = this.geolocation.getMapLink(coffee.location);\n      location.href = mapLink;\n    }\n  }\n\n  shareCoffee(coffee: Coffee){\n    const shareText = `I had thid ${coffee.name} at ${coffee.place} and I give it ${coffee.rating} stars`\n    if ('share' in navigator){\n      navigator.share({\n        title: coffee.name,\n        text: shareText,\n        url: window.location.href\n      }).then(() => console.log(\"shared\")).catch(err => console.error(err));\n    }else{\n      const shareURL = `whatsapp://send?text=${encodeURIComponent(shareText)}`\n      location.href = shareURL;\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}